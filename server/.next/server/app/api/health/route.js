"use strict";(()=>{var e={};e.id=829,e.ids=[829],e.modules={3524:e=>{e.exports=require("@prisma/client")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8678:e=>{e.exports=import("pg")},6232:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>u,requestAsyncStorage:()=>h,routeModule:()=>c,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l});var n=r(9303),s=r(8716),o=r(670),i=r(9822),p=e([i]);i=(p.then?(await p)():p)[0];let c=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/health/route",pathname:"/api/health",filename:"route",bundlePath:"app/api/health/route"},resolvedPagePath:"/home/phivos/source/github.com/pheever/cy-price-watchdog/server/src/app/api/health/route.ts",nextConfigOutput:"standalone",userland:i}),{requestAsyncStorage:h,staticGenerationAsyncStorage:l,serverHooks:d}=c,m="/api/health/route";function u(){return(0,o.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:l})}a()}catch(e){a(e)}})},9822:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{GET:()=>i});var n=r(7070),s=r(3538),o=e([s]);async function i(){try{return await s._.$queryRaw`SELECT 1`,n.NextResponse.json({status:"healthy",timestamp:new Date().toISOString(),database:"connected"})}catch{return n.NextResponse.json({status:"unhealthy",timestamp:new Date().toISOString(),database:"disconnected"},{status:503})}}s=(o.then?(await o)():o)[0],a()}catch(e){a(e)}})},3538:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{_:()=>p});var n=r(3524),s=r(9683),o=r(8678),i=e([o,s]);[o,s]=i.then?(await i)():i;let p=globalThis.prisma??function(){let e=process.env.DATABASE_URL;if(!e)throw Error("DATABASE_URL environment variable is required");let t=new o.Pool({connectionString:e}),r=new s.g(t);return new n.PrismaClient({adapter:r,log:["error"]})}();a()}catch(e){a(e)}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,981],()=>r(6232));module.exports=a})();